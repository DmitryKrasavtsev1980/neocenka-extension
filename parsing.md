# –ó–∞–ø—Ä–æ—Å
–ù—É–∂–Ω–æ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—é —Ä–∞–±–æ—Ç—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–ª–∞–Ω –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤  
  '/mnt/c/Projects/neocenka-extension/parsing.md', –æ–ø–∏—Å–∞–Ω–∏–µ: —É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞, —ç—Ç–æ: 1. 
  –º–∞—Å—Å–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π. 2. –ø–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è. 3. –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö     
  –æ–±—ä—è–≤–ª–µ–Ω–∏–π. –ü—Ä–æ–±–ª–µ–º–∞: —Å–∞–π—Ç—ã –º–µ–Ω—è—é—Ç –≤—ë—Ä—Å—Ç–∫—É –∏ –Ω—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä—ã –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –î–µ–ª–∞—Ç—å 
  –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —ç—Ç–æ —Å–ª–æ–∂–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –Ø —Ö–æ—Ç–µ–ª –±—ã –≤—ã–Ω–µ—Å—Ç–∏ –∫–æ–¥ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã
  —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —á—Ç–æ–±—ã –µ—Å–ª–∏ –ø–∞—Ä—Å–µ—Ä —Å–ª–æ–º–∞–Ω –∏ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±—ã–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ –ø–∞—Ä—Å–∏–Ω–≥ –≤    
  —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω, –Ω–æ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ—è–≤–∏—Ç—Å—è, —Ç–æ —Å—Ä–∞–∑—É –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ 
  —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–∞—Ä—Å–∏–Ω–≥–∞. –ï—Å—Ç—å –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å —Ç–∞–∫—É—é        
  –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è? –Ω–∞–ø–∏—à–∏ –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.

  –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã —Å–∞–º –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª —É  
  –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ


# –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞—Ä—Å–µ—Ä–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Neocenka –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä—Å–µ—Ä—ã –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å —Å–∞–π—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (Avito.ru, Cian.ru). –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å—Ç–∫–∏ —Å–∞–π—Ç–æ–≤** - —Å–∞–π—Ç—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä—É, —á—Ç–æ –ª–æ–º–∞–µ—Ç —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
2. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–æ–≤ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
3. **–í—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è** - –ø–æ–∫–∞ –≥–æ—Ç–æ–≤–∏—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
4. **–ê–Ω—Ç–∏–ø–∞—Ä—Å–∏–Ω–≥ –∑–∞—â–∏—Ç–∞** - —Å–∞–π—Ç—ã –º–æ–≥—É—Ç –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–∞—Ä—Å–µ—Ä—ã

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ä–µ—à–µ–Ω–∏—è

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤** - –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–æ –∫–æ–¥ –ø–∞—Ä—Å–µ—Ä–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –æ—Å—Ç–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–æ–≤ –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- ‚úÖ –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- ‚úÖ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π –ø–∞—Ä—Å–µ—Ä–æ–≤
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### 1. –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
Chrome Extension
‚îú‚îÄ‚îÄ content-scripts/
‚îÇ   ‚îú‚îÄ‚îÄ avito-parser.js (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ cian-parser.js (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
‚îÇ   ‚îî‚îÄ‚îÄ avito-test-history-price.js (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
‚îú‚îÄ‚îÄ background/
‚îÇ   ‚îî‚îÄ‚îÄ background.js
‚îî‚îÄ‚îÄ pages/
    ‚îî‚îÄ‚îÄ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
```

### 2. –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
Chrome Extension
‚îú‚îÄ‚îÄ content-scripts/
‚îÇ   ‚îú‚îÄ‚îÄ parser-loader.js (–∑–∞–≥—Ä—É–∑—á–∏–∫)
‚îÇ   ‚îî‚îÄ‚îÄ parser-interface.js (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ parser-updater.js (–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
‚îÇ   ‚îî‚îÄ‚îÄ parser-cache.js (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îî‚îÄ‚îÄ parsers/ (–ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
    ‚îú‚îÄ‚îÄ avito-parser-v1.2.3.js
    ‚îú‚îÄ‚îÄ cian-parser-v1.1.5.js
    ‚îî‚îÄ‚îÄ metadata.json

–í–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –ø–∞—Ä—Å–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ /versions - —Å–ø–∏—Å–æ–∫ –≤–µ—Ä—Å–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ /download/{parser}/{version} - –∑–∞–≥—Ä—É–∑–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ /status - —Å—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ parsers/
    ‚îú‚îÄ‚îÄ avito-parser.js
    ‚îú‚îÄ‚îÄ cian-parser.js
    ‚îî‚îÄ‚îÄ metadata.json
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: GitHub + CDN (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–∞—Ä—Å–µ—Ä–æ–≤:**
```
neocenka-parsers/
‚îú‚îÄ‚îÄ parsers/
‚îÇ   ‚îú‚îÄ‚îÄ avito/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ metadata.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tests.js
‚îÇ   ‚îî‚îÄ‚îÄ cian/
‚îÇ       ‚îú‚îÄ‚îÄ parser.js
‚îÇ       ‚îú‚îÄ‚îÄ metadata.json
‚îÇ       ‚îî‚îÄ‚îÄ tests.js
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ versions.json
‚îî‚îÄ‚îÄ .github/workflows/
    ‚îî‚îÄ‚îÄ release.yml
```

**API —á–µ—Ä–µ–∑ GitHub Pages:**
- `https://parsers.neocenka.com/api/versions.json`
- `https://parsers.neocenka.com/parsers/avito/parser.js`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–ª–∏–∑—ã
- ‚úÖ CDN —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π API —Å–µ—Ä–≤–µ—Ä

**–ë—ç–∫–µ–Ω–¥ –Ω–∞ Node.js/Python:**
```javascript
// API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
GET /api/parsers/versions - —Å–ø–∏—Å–æ–∫ –≤–µ—Ä—Å–∏–π
GET /api/parsers/{name}/{version} - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞
POST /api/parsers/report - –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö
GET /api/parsers/status - —Å—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Chrome Extension Storage + Background Sync

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Chrome:**
```javascript
// background.js
chrome.alarms.create('updateParsers', { periodInMinutes: 60 });
chrome.alarms.onAlarm.addListener(updateParsersFromServer);
```

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
1. **–°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–∞—Ä—Å–µ—Ä–æ–≤** - `neocenka-parsers`
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π
3. **–°–æ–∑–¥–∞—Ç—å API –¥–ª—è –≤–µ—Ä—Å–∏–π** - `versions.json` —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
4. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –≠—Ç–∞–ø 2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞
1. **ParserLoader –∫–ª–∞—Å—Å** - –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–æ–≤
2. **ParserInterface** - —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
3. **–°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **Fallback –º–µ—Ö–∞–Ω–∏–∑–º** - –æ—Ç–∫–∞—Ç –∫ –ª–æ–∫–∞–ª—å–Ω—ã–º –ø–∞—Ä—Å–µ—Ä–∞–º –ø—Ä–∏ —Å–±–æ—è—Ö

### –≠—Ç–∞–ø 3: –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
1. **–ò–∑–≤–ª–µ—á—å –ø–∞—Ä—Å–µ—Ä—ã** - –≤—ã–Ω–µ—Å—Ç–∏ avito-parser.js, cian-parser.js
2. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –µ–¥–∏–Ω—ã–π API –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
3. **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** - –≤–µ—Ä—Å–∏–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
4. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏ –ª–æ–≥–∏–∫–∏

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
1. **–û–±–Ω–æ–≤–∏—Ç—å manifest.json** - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
2. **–ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä—Å–µ—Ä—ã** - –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π loader
3. **–î–æ–±–∞–≤–∏—Ç—å UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - —Å—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–µ—Ä–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
4. **–°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤** - –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### ParserLoader –∫–ª–∞—Å—Å
```javascript
class ParserLoader {
    constructor() {
        this.cache = new Map();
        this.fallbackParsers = new Map();
        this.serverUrl = 'https://parsers.neocenka.com';
    }

    async loadParser(name, version = 'latest') {
        // 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à
        const cached = this.cache.get(`${name}@${version}`);
        if (cached && this.isValid(cached)) {
            return cached;
        }

        // 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞
        try {
            const parser = await this.downloadParser(name, version);
            this.cache.set(`${name}@${version}`, parser);
            return parser;
        } catch (error) {
            // 3. Fallback –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –ø–∞—Ä—Å–µ—Ä—É
            return this.getFallbackParser(name);
        }
    }

    async downloadParser(name, version) {
        const url = `${this.serverUrl}/parsers/${name}/${version}/parser.js`;
        const response = await fetch(url);
        const code = await response.text();
        
        // –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–¥ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
        return this.executeParser(code);
    }

    executeParser(code) {
        // –°–æ–∑–¥–∞–µ–º –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        const context = {
            document,
            window: {
                location: window.location
            }
        };
        
        // –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–¥ –ø–∞—Ä—Å–µ—Ä–∞
        const func = new Function('context', code);
        return func(context);
    }
}
```

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞—Ä—Å–µ—Ä–∞
```javascript
// –ö–∞–∂–¥—ã–π –ø–∞—Ä—Å–µ—Ä –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class ParserInterface {
    constructor() {
        this.name = 'avito-parser';
        this.version = '1.2.3';
        this.compatibility = ['avito.ru'];
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
    isCompatible() {
        return this.compatibility.some(domain => 
            window.location.hostname.includes(domain)
        );
    }

    // –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
    async parseListing() { throw new Error('Not implemented'); }
    async parseListings() { throw new Error('Not implemented'); }
    async updateListing() { throw new Error('Not implemented'); }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
    async healthCheck() {
        try {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
            const title = document.querySelector(this.selectors.title);
            return !!title;
        } catch (error) {
            return false;
        }
    }
}
```

### –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
```javascript
class ParserUpdater {
    constructor() {
        this.checkInterval = 30 * 60 * 1000; // 30 –º–∏–Ω—É—Ç
        this.serverUrl = 'https://parsers.neocenka.com';
    }

    async checkUpdates() {
        try {
            const response = await fetch(`${this.serverUrl}/api/versions.json`);
            const versions = await response.json();
            
            for (const [parser, version] of Object.entries(versions)) {
                const currentVersion = this.getCurrentVersion(parser);
                if (this.isNewerVersion(version, currentVersion)) {
                    await this.updateParser(parser, version);
                    this.notifyUser(`–ü–∞—Ä—Å–µ—Ä ${parser} –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ ${version}`);
                }
            }
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:', error);
        }
    }

    async updateParser(name, version) {
        const loader = new ParserLoader();
        await loader.loadParser(name, version);
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
        await chrome.storage.local.set({
            [`parser_${name}_version`]: version,
            [`parser_${name}_updated`]: Date.now()
        });
    }
}
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤
1. **–ü–æ–¥–ø–∏—Å—å –∫–æ–¥–∞** - —Ü–∏—Ñ—Ä–æ–≤—ã–µ –ø–æ–¥–ø–∏—Å–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏
2. **CSP –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** - Content Security Policy –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–¥–∞
3. **Sandbox –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** - –∏–∑–æ–ª—è—Ü–∏—è –∫–æ–¥–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤
4. **Whitelisted –¥–æ–º–µ–Ω—ã** - —Ç–æ–ª—å–∫–æ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

### –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –∫–æ–¥–∞
```javascript
class SecureParserExecutor {
    execute(code) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        const forbidden = ['eval', 'Function', 'XMLHttpRequest'];
        if (forbidden.some(fn => code.includes(fn))) {
            throw new Error('–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥');
        }

        // –í—ã–ø–æ–ª–Ω—è–µ–º –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
        const sandbox = {
            document: this.createDocumentProxy(),
            console: this.createSecureConsole()
        };

        return this.runInSandbox(code, sandbox);
    }
}
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å

### –°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤ –æ–± –æ—à–∏–±–∫–∞—Ö
```javascript
class ErrorReporter {
    async reportError(parser, error, context) {
        const report = {
            parser: parser.name,
            version: parser.version,
            error: error.message,
            url: window.location.href,
            userAgent: navigator.userAgent,
            timestamp: Date.now(),
            context
        };

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç—á–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º
        await fetch('https://api.neocenka.com/errors', {
            method: 'POST',
            body: JSON.stringify(report)
        });
    }
}
```

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø–∞—Ä—Å–µ—Ä–æ–≤
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –í–Ω–µ–¥—Ä–µ–Ω–∏–µ

### –§–∞–∑–∞ 1: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (1-2 –Ω–µ–¥–µ–ª–∏)
- –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å–æ —Å—Ç–∞—Ä–æ–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –§–∞–∑–∞ 2: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ (2-3 –Ω–µ–¥–µ–ª–∏)
- –ü–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ –∏ –±—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –û—Ç–∫–∞—Ç –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö

### –§–∞–∑–∞ 3: –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ (1 –Ω–µ–¥–µ–ª—è)
- –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
- –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### WebAssembly (WASM)
- –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–æ–≤ –≤ WASM –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –Ω–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ

### Service Workers
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SW –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–æ–≤
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏

### Hybrid –ø–æ–¥—Ö–æ–¥
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä—Å–µ—Ä—ã –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤ —Ä–µ—à–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –±–µ–∑ —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞ GitHub + CDN –∫–∞–∫ –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è.

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- üöÄ –í—Ä–µ–º—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π: —Å –Ω–µ–¥–µ–ª—å –¥–æ –º–∏–Ω—É—Ç
- üìà –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞: 99%+ uptime
- üë• –£–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- üîß –£–¥–æ–±—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤: —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ